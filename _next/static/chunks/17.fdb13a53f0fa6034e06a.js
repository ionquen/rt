(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"5PO6":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j})),n.d(t,"Clock",(function(){return b}));var c=n("nKUr"),r=n("rePB"),s=n("KQm4"),a=n("q1tI"),l=n("kcZf"),u=n.n(l),i=(n("Jq4i"),n("quuy"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.props,n=Object(a.useState)([]),r=n[0],l=n[1],o=Object(a.useState)(null),j=o[0],f=o[1],O=Object(a.useState)(Object(c.jsx)(c.Fragment,{})),m=O[0],v=O[1],h=Object(a.useRef)(null);function x(){if(null===j){var e=Date.now();l((function(t){return[{l:[e],p:null,id:Date.now()}].concat(Object(s.a)(t))})),f(e)}else l((function(e){return e.map((function(e){return e.id===j&&null!==e.p?d(d({},e),{},{l:e.l.map((function(t){return t+Date.now()-e.p})),p:null}):e}))}))}function w(){l((function(e){return e.map((function(e){return e.id===j?d(d({},e),{},{l:e.l,p:Date.now()}):e}))}))}function y(){l((function(e){return e.map((function(e){return e.id===j?d(d({},e),{},{l:[].concat(Object(s.a)(e.l),[null===e.p?Date.now():e.p]),p:e.p}):e}))}))}function g(e){l((function(t){return t.map((function(t){return t.id===j?d(d({},t),{},{l:t.l.filter((function(t){return t!==e})),p:t.p}):t}))}))}function S(e){f(null),l((function(t){return t.filter((function(t){return t.id!==e}))}))}return Object(a.useEffect)((function(){var e=localStorage.getItem("watchItems"),t=Number(localStorage.getItem("watchCurrent"));if(f(t),null!==e){var n=JSON.parse(e);l(n)}}),[]),Object(a.useEffect)((function(){localStorage.setItem("watchItems",JSON.stringify(r))}),[r]),Object(a.useEffect)((function(){localStorage.setItem("watchCurrent",j)}),[j]),Object(a.useEffect)((function(){if(null!==j){var e=r.filter((function(e){return e.id===j}))[0];void 0!==e?v(Object(c.jsx)(p,{timestamps:null!==e.p?e.l.map((function(t){return t+Date.now()-e.p})):e.l,id:e.id,paused:e.p,start:x,pause:w,lap:y,reset:S,removeLap:g,props:t})):f(null)}else v(Object(c.jsx)(p,{timestamps:[null],paused:!0,start:x,pause:w,lap:y,reset:S,removeLap:g,props:t}))}),[j,r]),Object(c.jsxs)("div",{className:u.a.block,ref:h,children:[Object(c.jsxs)("div",{className:u.a.stopwatch,children:[m,Object(c.jsx)(i.a,{elem:h.current})]}),Object(c.jsxs)("div",{className:u.a.list,children:[Object(c.jsx)("button",{onClick:function(){return f(null)},children:t.desc.add}),Object(c.jsx)("div",{children:r.map((function(e){return Object(c.jsxs)("div",{className:j===e.id?u.a.current:"",onClick:function(){return f(e.id)},children:[Object(c.jsx)(b,{timestamp:null!==e.p?e.l[0]+Date.now()-e.p:e.l[0],paused:null!==e.p,labels:t.desc.labels}),Object(c.jsx)("div",{className:null!==e.p?u.a.paused:"",children:e.p?t.desc.paused:t.desc.active})]},e.id)}))})]})]})}function p(e){var t=e.timestamps,n=e.id,r=e.paused,s=e.start,l=e.pause,i=e.lap,o=e.reset,d=(e.removeLap,e.props),j=Object(a.useRef)(null);return Object(a.useEffect)((function(){null!==j&&j.current.focus()}),[n]),Object(c.jsxs)("div",{ref:j,onKeyPress:function(e){e.preventDefault(),"Space"!==e.code&&"Enter"!==e.code||(e.shiftKey?i():r?s():l())},tabIndex:-1,children:[Object(c.jsx)(b,{timestamp:t[0],paused:null!==r,labels:d.desc.labels}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:u.a.green,onClick:s,children:d.desc.start}),Object(c.jsx)("button",{className:u.a.yellow,onClick:i,children:d.desc.lap}),Object(c.jsx)("button",{className:u.a.blue,onClick:l,children:d.desc.pause}),Object(c.jsx)("button",{className:u.a.red,onClick:function(){return o(n)},children:d.desc.reset})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:d.desc.lap}),Object(c.jsx)("div",{children:d.desc.lapTime}),Object(c.jsx)("div",{children:d.desc.totalTime})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.length}),Object(c.jsx)(b,{timestamp:t[t.length-1],paused:null!==r,labels:d.desc.labels}),Object(c.jsx)(b,{timestamp:t[0],paused:null!==r,labels:d.desc.labels})]}),t.map((function(e,n){return 0===n?null:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:n}),Object(c.jsx)(b,{timestamp:Date.now()-(e-t[n-1]),paused:!0,labels:d.desc.labels}),Object(c.jsx)(b,{timestamp:Date.now()-(e-t[0]),paused:!0,labels:d.desc.labels})]},e)})).reverse()]})]})}function b(e){var t=e.timestamp,n=e.paused,r=e.displayMs,s=void 0===r||r,l=e.onlyTime,i=void 0!==l&&l,o=e.labels,d=void 0===o?{day:"day",year:"year"}:o,j=Object(a.useState)(0),p=j[0],b=j[1],f=Object(a.useState)(0),O=f[0],m=f[1],v=Object(a.useState)(0),h=v[0],x=v[1],w=Object(a.useState)(0),y=w[0],g=w[1],S=Object(a.useState)(0),D=S[0],N=S[1],k=Object(a.useState)(0),E=k[0],P=k[1];return Object(a.useEffect)((function(){function e(e){var t=e%1e3/100|0;return b(t),t}function c(e){var t=e%6e4/1e3|0;return m(t),t}function r(e){var t=e%36e5/6e4|0;return x(t),t}function a(e){var t=e%864e5/36e5|0;return g(t),t}function l(e){var t=e%316224e5/864e5|0;return N(t),t}function u(e,t,n){return e>t&&e<n}if(null===t)b(0),m(0),x(0),g(0),N(0),P(0);else{var i=Math.abs(Date.now()-t);e(i),c(i),r(i),a(i),l(i),P(Math.floor(Math.abs(Date.now()-t)/31536e6))}if(!n&&null!==t){var o=setInterval((function(){var n=Math.abs(Date.now()-t);s&&u(e(n),0,9)||u(c(n),0,59)||u(r(n),0,59)||u(a(n),0,23)||l(n)}),50);return function(){return clearInterval(o)}}}),[n,t]),Object(c.jsxs)("div",{className:u.a.clock,children:[!i&&E>0?E+d.year:null,!i&&D>0?D+d.day:null,y<10?"0"+y:y,":",h<10?"0"+h:h,":",O<10?"0"+O:O,s?Object(c.jsx)("span",{children:p}):null]})}}}]);