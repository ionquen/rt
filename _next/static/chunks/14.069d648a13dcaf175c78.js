(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14,18],{"5AJ6":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n("wx14"),r=n("q1tI"),a=n.n(r),o=n("Ff2n"),i=(n("17x9"),n("iuhU")),l=n("H2TA"),u=n("NqtD"),s=r.forwardRef((function(e,t){var n=e.children,a=e.classes,l=e.className,s=e.color,d=void 0===s?"inherit":s,j=e.component,b=void 0===j?"svg":j,f=e.fontSize,O=void 0===f?"default":f,p=e.htmlColor,m=e.titleAccess,h=e.viewBox,v=void 0===h?"0 0 24 24":h,x=Object(o.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return r.createElement(b,Object(c.a)({className:Object(i.a)(a.root,l,"inherit"!==d&&a["color".concat(Object(u.a)(d))],"default"!==O&&a["fontSize".concat(Object(u.a)(O))]),focusable:"false",viewBox:v,color:p,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},x),n,m?r.createElement("title",null,m):null)}));s.muiName="SvgIcon";var d=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(s);function j(e,t){var n=function(t,n){return a.a.createElement(d,Object(c.a)({ref:n},t),e)};return n.muiName=d.muiName,a.a.memo(a.a.forwardRef(n))}},"5PO6":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f})),n.d(t,"Clock",(function(){return p}));var c=n("rePB"),r=n("KQm4"),a=n("q1tI"),o=n("kcZf"),i=n.n(o),l=n("FeVb"),u=n.n(l),s=(n("Jq4i"),n("quuy")),d=n("nKUr");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.props,n=Object(a.useState)([]),c=n[0],o=n[1],l=Object(a.useState)(null),j=l[0],f=l[1],m=Object(a.useState)(Object(d.jsx)(d.Fragment,{})),h=m[0],v=m[1],x=Object(a.useRef)(null);function y(){if(null===j){var e=Date.now();o((function(t){return[{l:[e],p:null,id:Date.now()}].concat(Object(r.a)(t))})),f(e)}else o((function(e){return e.map((function(e){return e.id===j&&null!==e.p?b(b({},e),{},{l:e.l.map((function(t){return t+Date.now()-e.p})),p:null}):e}))}))}function g(){o((function(e){return e.map((function(e){return e.id===j&&null===e.p?b(b({},e),{},{l:e.l,p:Date.now()}):e}))}))}function w(){o((function(e){return e.map((function(e){return e.id!==j||e.l.includes(e.p)?e:null===e.p?b(b({},e),{},{l:[].concat(Object(r.a)(e.l),[Date.now()])}):b(b({},e),{},{l:[].concat(Object(r.a)(e.l),[e.p])})}))}))}function S(e){o((function(t){return t.map((function(t){return t.id===j?b(b({},t),{},{l:t.l.filter((function(t){return t!==e})),p:t.p}):t}))}))}function E(e){f(null),o((function(t){return t.filter((function(t){return t.id!==e}))}))}return Object(a.useEffect)((function(){var e=localStorage.getItem("watchItems"),t=Number(localStorage.getItem("watchCurrent"));if(f(t),null!==e){var n=JSON.parse(e);o(n)}}),[]),Object(a.useEffect)((function(){localStorage.setItem("watchItems",JSON.stringify(c))}),[c]),Object(a.useEffect)((function(){localStorage.setItem("watchCurrent",j)}),[j]),Object(a.useEffect)((function(){if(null!==j){var e=c.filter((function(e){return e.id===j}))[0];void 0!==e?v(Object(d.jsx)(O,{timestamps:null!==e.p?e.l.map((function(t){return t+Date.now()-e.p})):e.l,id:e.id,paused:e.p,start:y,pause:g,lap:w,reset:E,removeLap:S,props:t})):f(null)}else v(Object(d.jsx)(O,{timestamps:[null],paused:!0,start:y,pause:g,lap:w,reset:E,removeLap:S,props:t}))}),[j,c]),Object(d.jsxs)("div",{className:i.a.block,ref:x,children:[Object(d.jsxs)("div",{className:i.a.stopwatch,children:[h,Object(d.jsx)(s.a,{elem:x.current})]}),Object(d.jsxs)("div",{className:"".concat(i.a.list," ").concat(u.a.list),children:[Object(d.jsx)("button",{onClick:function(){return f(null)},children:t.desc.add}),Object(d.jsx)("div",{children:c.map((function(e){return Object(d.jsxs)("div",{className:j===e.id?u.a.opened:"",onClick:function(){return f(e.id)},children:[Object(d.jsx)(p,{timestamp:null!==e.p?e.l[0]+Date.now()-e.p:e.l[0],paused:null!==e.p,labels:t.desc.labels}),Object(d.jsx)("div",{className:null!==e.p?i.a.paused:"",children:e.p?t.desc.paused:t.desc.active})]},e.id)}))})]})]})}function O(e){var t=e.timestamps,n=e.id,c=e.paused,r=e.start,o=e.pause,l=e.lap,u=e.reset,s=(e.removeLap,e.props),j=Object(a.useRef)(null);return Object(a.useEffect)((function(){null!==j&&j.current.focus()}),[n]),Object(d.jsxs)("div",{ref:j,onKeyPress:function(e){e.preventDefault(),"Space"!==e.code&&"Enter"!==e.code||(e.shiftKey?l():c?r():o())},tabIndex:-1,children:[Object(d.jsx)(p,{timestamp:t[0],paused:null!==c,labels:s.desc.labels}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:i.a.green,onClick:r,children:s.desc.start}),Object(d.jsx)("button",{className:i.a.yellow,onClick:l,children:s.desc.lap}),Object(d.jsx)("button",{className:i.a.blue,onClick:o,children:s.desc.pause}),Object(d.jsx)("button",{className:i.a.red,onClick:function(){return u(n)},children:s.desc.reset})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:s.desc.lap}),Object(d.jsx)("div",{children:s.desc.lapTime}),Object(d.jsx)("div",{children:s.desc.totalTime})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:t.length}),Object(d.jsx)(p,{timestamp:t[t.length-1],paused:null!==c,labels:s.desc.labels}),Object(d.jsx)(p,{timestamp:t[0],paused:null!==c,labels:s.desc.labels})]}),t.map((function(e,n){return 0===n?null:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:n}),Object(d.jsx)(p,{timestamp:Date.now()-(e-t[n-1]),paused:!0,labels:s.desc.labels}),Object(d.jsx)(p,{timestamp:Date.now()-(e-t[0]),paused:!0,labels:s.desc.labels})]},e)})).reverse()]})]})}function p(e){var t=e.timestamp,n=e.paused,c=e.displayMs,r=void 0===c||c,o=e.onlyTime,l=void 0!==o&&o,u=e.labels,s=void 0===u?{day:"day",year:"year"}:u,j=Object(a.useState)(0),b=j[0],f=j[1],O=Object(a.useState)(0),p=O[0],m=O[1],h=Object(a.useState)(0),v=h[0],x=h[1],y=Object(a.useState)(0),g=y[0],w=y[1],S=Object(a.useState)(0),E=S[0],C=S[1],D=Object(a.useState)(0),N=D[0],k=D[1];return Object(a.useEffect)((function(){function e(e){var t=e%1e3/100|0;return f(t),t}function c(e){var t=e%6e4/1e3|0;return m(t),t}function a(e){var t=e%36e5/6e4|0;return x(t),t}function o(e){var t=e%864e5/36e5|0;return w(t),t}function i(e){var t=e%316224e5/864e5|0;return C(t),t}function l(e,t,n){return e>t&&e<n}if(null===t)f(0),m(0),x(0),w(0),C(0),k(0);else{var u=Math.abs(Date.now()-t);e(u),c(u),a(u),o(u),i(u),k(Math.floor(Math.abs(Date.now()-t)/31536e6))}if(!n&&null!==t){var s=setInterval((function(){var n=Math.abs(Date.now()-t);r&&l(e(n),0,9)||l(c(n),0,59)||l(a(n),0,59)||l(o(n),0,23)||i(n)}),50);return function(){return clearInterval(s)}}}),[n,t]),Object(d.jsxs)("div",{className:i.a.clock,children:[!l&&N>0?N+s.year:null,!l&&E>0?E+s.day:null,g<10?"0"+g:g,":",v<10?"0"+v:v,":",p<10?"0"+p:p,r?Object(d.jsx)("span",{children:b}):null]})}},NqtD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n("TrhM");function r(e){if("string"!==typeof e)throw new Error(Object(c.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},QWAq:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var c=n("ODXe"),r=n("rePB"),a=n("KQm4"),o=(n("nOHt"),n("q1tI")),i=n("bCAI"),l=n.n(i),u=n("FeVb"),s=n.n(u),d=(n("Jq4i"),n("5PO6"),n("quuy")),j=n("5AJ6"),b=Object(j.a)(o.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause"),f=Object(j.a)(o.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),O=Object(j.a)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),p=Object(j.a)(o.createElement("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"}),"LibraryAdd"),m=Object(j.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox"),h=Object(j.a)(o.createElement("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}),"MusicNote"),v=Object(j.a)(o.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore"),x=Object(j.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),y=n("nKUr");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=e.p,n=Object(o.useState)([]),c=n[0],i=n[1],u=Object(o.useState)(null),j=u[0],b=u[1],f=Object(o.useRef)(null);function O(){var e=Date.now();i((function(n){return[{id:e,name:t.d.metronome,rate:100,sequence:[{id:Date.now(),sound:"metronome1",delay:1,color:"#A07E7E"},{id:Date.now()+1,sound:"metronome1",delay:1,color:"#A07E7E"},{id:Date.now()+2,sound:"metronome1",delay:1,color:"#A07E7E"},{id:Date.now()+3,sound:"metronome2",delay:1,color:"#D44E4E"}]}].concat(Object(a.a)(n))})),b(e)}function p(e){1!==c.length&&(i((function(t){return t.filter((function(t){return t.id!==e}))})),b(null))}return Object(o.useEffect)((function(){var e=localStorage.getItem("metronomeItems");if(null===e||0===e.length)return O();var t=JSON.parse(e);0===t.length?O():i(t)}),[]),Object(o.useEffect)((function(){localStorage.setItem("metronomeItems",JSON.stringify(c)),null===j&&0!==c.length&&b(c[0].id)}),[c]),Object(y.jsxs)("div",{className:l.a.block,ref:f,children:[Object(y.jsxs)("div",{className:l.a.main,children:[Object(y.jsx)(E,{items:c,current:j,onChange:function(e,t,n){i((function(c){return c.map((function(c){return c.id===e?w(w({},c),{},Object(r.a)({},t,n)):c}))}))},p:t}),Object(y.jsx)(d.a,{elem:f.current})]}),Object(y.jsxs)("div",{className:"".concat(l.a.list," ").concat(s.a.list),children:[Object(y.jsx)("button",{onClick:O,children:t.d.add}),Object(y.jsx)("div",{children:c.map((function(e){return Object(y.jsx)(k,{id:e.id,sequence:e.sequence,name:e.name,rate:e.rate,opened:e.id===j,onOpen:b,onDelete:p},e.id)}))})]})]})}function E(e){var t,n,c=e.items,r=e.current,a=e.onChange,o=e.p,i=null!==(t=null===(n=c.filter((function(e){return e.id===r})))||void 0===n?void 0:n[0])&&void 0!==t?t:null;return null===i?null:Object(y.jsx)(C,{id:i.id,sequence:i.sequence,name:i.name,rate:i.rate,onChange:a,p:o})}function C(e){var t=e.name,n=e.id,c=e.sequence,i=e.rate,l=e.onChange,u=e.p,s=Object(o.useState)(!1),d=s[0],j=s[1],m=Object(o.useState)(0),h=m[0],v=m[1];function x(e){e.target.value<0||e.target.value>720||l(n,"rate",Number(e.target.value))}return Object(o.useEffect)((function(){if(!1!==d){var e=c.reduce((function(e,t,n){return e.push(t.delay+e[n]),e}),[0]),t=[],n=setInterval(r,6e4/(i/e[e.length-1]));return r(),function(){clearInterval(n),t.forEach((function(e){return clearTimeout(e)}))}}function r(){t=c.map((function(t,n){return setTimeout((function(){new Audio("https://content.regtool.net/ticks/".concat(t.sound,".mp3")).play(),v(n)}),6e4/(i/e[n+1])-6e4/i+300)}))}}),[d,i,c.map((function(e){return e.delay+e.sound})).join("")]),Object(o.useEffect)((function(){j(!1)}),[n]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",value:t,onChange:function(e){return l(n,"name",e.target.value)}})}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:u.d.rate}),Object(y.jsx)("input",{type:"number",min:0,max:720,value:i,onChange:x}),Object(y.jsx)("span",{children:"BPM"})]}),Object(y.jsx)("input",{type:"range",min:0,max:720,value:i,onChange:x})]}),Object(y.jsx)("button",{onClick:function(){return j((function(e){return!e}))},children:d?Object(y.jsx)(b,{}):Object(y.jsx)(f,{})})]}),Object(y.jsx)("div",{children:c.map((function(e,t){return Object(y.jsxs)(N,{sound:e.sound,delay:e.delay,color:e.color,p:u,selected:h===t,onChange:function(t,a){return o=e.id,i=t,u=a,void l(n,"sequence",c.map((function(e){return e.id===o?w(w({},e),{},Object(r.a)({},i,u)):e})));var o,i,u},children:[1===c.length?null:Object(y.jsx)("button",{onClick:function(){return t=e.id,void l(n,"sequence",c.filter((function(e){return e.id!==t})));var t},children:Object(y.jsx)(O,{})}),Object(y.jsx)("button",{onClick:function(){return function(e,t){var r=w(w({},c.filter((function(t){return t.id===e}))[0]),{},{id:Date.now()});c.splice(t+1,0,r),l(n,"sequence",c)}(e.id,t)},children:Object(y.jsx)(p,{})})]},e.id)}))}),Object(y.jsx)("div",{children:Object(y.jsx)(D,{onAdd:function(e){l(n,"sequence",[].concat(Object(a.a)(c),[w(w({},e),{},{id:Date.now()})]))},p:u})})]})}function D(e){var t=e.onAdd,n=e.p,c=Object(o.useState)("#A07E7E"),r=c[0],a=c[1],i=Object(o.useState)("metronome1"),l=i[0],u=i[1],s=Object(o.useState)(1),d=s[0],j=s[1];return Object(y.jsx)(N,{color:r,sound:l,delay:d,onChange:function(e,t){switch(e){case"color":return a(t);case"sound":return u(t);case"delay":return j(t)}},selected:!1,p:n,children:Object(y.jsx)("button",{onClick:function(){return t({color:r,sound:l,delay:d})},children:Object(y.jsx)(m,{})})})}function N(e){var t=e.sound,n=e.onChange,r=e.delay,a=e.color,o=e.selected,i=e.children,u=e.p;return Object(y.jsxs)("div",{className:l.a.tick,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(h,{}),Object(y.jsx)("select",{value:t,onChange:function(e){return n("sound",e.target.value)},children:Object.entries(u.ticks).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(y.jsx)("option",{value:n,children:r},n)}))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)(v,{}),Object(y.jsx)("input",{"data-tooltip":"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0435\u0440\u0435\u0434 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0430",type:"number",value:r,onChange:function(e){return n("delay",Number(e.target.value))}})]}),Object(y.jsx)("label",{className:o?l.a.selected:"",style:{backgroundColor:a},children:Object(y.jsx)("input",{type:"color",value:a,onChange:function(e){return n("color",e.target.value)}})}),Object(y.jsx)("div",{children:i})]})}function k(e){var t=e.id,n=e.sequence,c=e.name,r=e.rate,a=e.onOpen,o=e.onDelete,i=e.opened;return Object(y.jsxs)("div",{className:i?s.a.opened:"",onClick:function(){return a(t)},children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:c}),Object(y.jsx)("button",{onClick:function(){return o(t)},children:Object(y.jsx)(x,{})})]}),Object(y.jsxs)("div",{children:[r," BPM"]}),Object(y.jsx)("div",{children:n.map((function(e){return Object(y.jsx)("div",{style:{backgroundColor:e.color}},e.id)}))})]})}}}]);