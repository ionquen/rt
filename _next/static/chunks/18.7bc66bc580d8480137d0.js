(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"5PO6":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p})),n.d(t,"Clock",(function(){return O}));var c=n("rePB"),r=n("KQm4"),s=n("q1tI"),l=n("kcZf"),a=n.n(l),u=n("FeVb"),i=n.n(u),o=(n("Jq4i"),n("quuy")),d=n("nKUr");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.props,n=Object(s.useState)([]),c=n[0],l=n[1],u=Object(s.useState)(null),j=u[0],p=u[1],m=Object(s.useState)(Object(d.jsx)(d.Fragment,{})),v=m[0],h=m[1],x=Object(s.useRef)(null);function w(){if(null===j){var e=Date.now();l((function(t){return[{l:[e],p:null,id:Date.now()}].concat(Object(r.a)(t))})),p(e)}else l((function(e){return e.map((function(e){return e.id===j&&null!==e.p?b(b({},e),{},{l:e.l.map((function(t){return t+Date.now()-e.p})),p:null}):e}))}))}function y(){l((function(e){return e.map((function(e){return e.id===j&&null===e.p?b(b({},e),{},{l:e.l,p:Date.now()}):e}))}))}function g(){l((function(e){return e.map((function(e){return e.id!==j||e.l.includes(e.p)?e:null===e.p?b(b({},e),{},{l:[].concat(Object(r.a)(e.l),[Date.now()])}):b(b({},e),{},{l:[].concat(Object(r.a)(e.l),[e.p])})}))}))}function S(e){l((function(t){return t.map((function(t){return t.id===j?b(b({},t),{},{l:t.l.filter((function(t){return t!==e})),p:t.p}):t}))}))}function D(e){p(null),l((function(t){return t.filter((function(t){return t.id!==e}))}))}return Object(s.useEffect)((function(){var e=localStorage.getItem("watchItems"),t=Number(localStorage.getItem("watchCurrent"));if(p(t),null!==e){var n=JSON.parse(e);l(n)}}),[]),Object(s.useEffect)((function(){localStorage.setItem("watchItems",JSON.stringify(c))}),[c]),Object(s.useEffect)((function(){localStorage.setItem("watchCurrent",j)}),[j]),Object(s.useEffect)((function(){if(null!==j){var e=c.filter((function(e){return e.id===j}))[0];void 0!==e?h(Object(d.jsx)(f,{timestamps:null!==e.p?e.l.map((function(t){return t+Date.now()-e.p})):e.l,id:e.id,paused:e.p,start:w,pause:y,lap:g,reset:D,removeLap:S,props:t})):p(null)}else h(Object(d.jsx)(f,{timestamps:[null],paused:!0,start:w,pause:y,lap:g,reset:D,removeLap:S,props:t}))}),[j,c]),Object(d.jsxs)("div",{className:a.a.block,ref:x,children:[Object(d.jsxs)("div",{className:a.a.stopwatch,children:[v,Object(d.jsx)(o.a,{elem:x.current})]}),Object(d.jsxs)("div",{className:"".concat(a.a.list," ").concat(i.a.list),children:[Object(d.jsx)("button",{onClick:function(){return p(null)},children:t.desc.add}),Object(d.jsx)("div",{children:c.map((function(e){return Object(d.jsxs)("div",{className:j===e.id?i.a.opened:"",onClick:function(){return p(e.id)},children:[Object(d.jsx)(O,{timestamp:null!==e.p?e.l[0]+Date.now()-e.p:e.l[0],paused:null!==e.p,labels:t.desc.labels}),Object(d.jsx)("div",{className:null!==e.p?a.a.paused:"",children:e.p?t.desc.paused:t.desc.active})]},e.id)}))})]})]})}function f(e){var t=e.timestamps,n=e.id,c=e.paused,r=e.start,l=e.pause,u=e.lap,i=e.reset,o=(e.removeLap,e.props),j=Object(s.useRef)(null);return Object(s.useEffect)((function(){null!==j&&j.current.focus()}),[n]),Object(d.jsxs)("div",{ref:j,onKeyPress:function(e){e.preventDefault(),"Space"!==e.code&&"Enter"!==e.code||(e.shiftKey?u():c?r():l())},tabIndex:-1,children:[Object(d.jsx)(O,{timestamp:t[0],paused:null!==c,labels:o.desc.labels}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:a.a.green,onClick:r,children:o.desc.start}),Object(d.jsx)("button",{className:a.a.yellow,onClick:u,children:o.desc.lap}),Object(d.jsx)("button",{className:a.a.blue,onClick:l,children:o.desc.pause}),Object(d.jsx)("button",{className:a.a.red,onClick:function(){return i(n)},children:o.desc.reset})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:o.desc.lap}),Object(d.jsx)("div",{children:o.desc.lapTime}),Object(d.jsx)("div",{children:o.desc.totalTime})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:t.length}),Object(d.jsx)(O,{timestamp:t[t.length-1],paused:null!==c,labels:o.desc.labels}),Object(d.jsx)(O,{timestamp:t[0],paused:null!==c,labels:o.desc.labels})]}),t.map((function(e,n){return 0===n?null:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:n}),Object(d.jsx)(O,{timestamp:Date.now()-(e-t[n-1]),paused:!0,labels:o.desc.labels}),Object(d.jsx)(O,{timestamp:Date.now()-(e-t[0]),paused:!0,labels:o.desc.labels})]},e)})).reverse()]})]})}function O(e){var t=e.timestamp,n=e.paused,c=e.displayMs,r=void 0===c||c,l=e.onlyTime,u=void 0!==l&&l,i=e.labels,o=void 0===i?{day:"day",year:"year"}:i,j=Object(s.useState)(0),b=j[0],p=j[1],f=Object(s.useState)(0),O=f[0],m=f[1],v=Object(s.useState)(0),h=v[0],x=v[1],w=Object(s.useState)(0),y=w[0],g=w[1],S=Object(s.useState)(0),D=S[0],N=S[1],k=Object(s.useState)(0),E=k[0],P=k[1];return Object(s.useEffect)((function(){function e(e){var t=e%1e3/100|0;return p(t),t}function c(e){var t=e%6e4/1e3|0;return m(t),t}function s(e){var t=e%36e5/6e4|0;return x(t),t}function l(e){var t=e%864e5/36e5|0;return g(t),t}function a(e){var t=e%316224e5/864e5|0;return N(t),t}function u(e,t,n){return e>t&&e<n}if(null===t)p(0),m(0),x(0),g(0),N(0),P(0);else{var i=Math.abs(Date.now()-t);e(i),c(i),s(i),l(i),a(i),P(Math.floor(Math.abs(Date.now()-t)/31536e6))}if(!n&&null!==t){var o=setInterval((function(){var n=Math.abs(Date.now()-t);r&&u(e(n),0,9)||u(c(n),0,59)||u(s(n),0,59)||u(l(n),0,23)||a(n)}),50);return function(){return clearInterval(o)}}}),[n,t]),Object(d.jsxs)("div",{className:a.a.clock,children:[!u&&E>0?E+o.year:null,!u&&D>0?D+o.day:null,y<10?"0"+y:y,":",h<10?"0"+h:h,":",O<10?"0"+O:O,r?Object(d.jsx)("span",{children:b}):null]})}}}]);