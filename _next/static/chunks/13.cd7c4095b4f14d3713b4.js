(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13,17],{"5PO6":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j})),n.d(t,"Clock",(function(){return f}));var c=n("nKUr"),r=n("rePB"),s=n("KQm4"),i=n("q1tI"),a=n("kcZf"),l=n.n(a),u=(n("Jq4i"),n("quuy"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.props,n=Object(i.useState)([]),r=n[0],a=n[1],o=Object(i.useState)(null),j=o[0],O=o[1],p=Object(i.useState)(Object(c.jsx)(c.Fragment,{})),m=p[0],h=p[1],v=Object(i.useRef)(null);function x(){if(null===j){var e=Date.now();a((function(t){return[{l:[e],p:null,id:Date.now()}].concat(Object(s.a)(t))})),O(e)}else a((function(e){return e.map((function(e){return e.id===j&&null!==e.p?d(d({},e),{},{l:e.l.map((function(t){return t+Date.now()-e.p})),p:null}):e}))}))}function g(){a((function(e){return e.map((function(e){return e.id===j?d(d({},e),{},{l:e.l,p:Date.now()}):e}))}))}function y(){a((function(e){return e.map((function(e){return e.id===j?d(d({},e),{},{l:[].concat(Object(s.a)(e.l),[null===e.p?Date.now():e.p]),p:e.p}):e}))}))}function w(e){a((function(t){return t.map((function(t){return t.id===j?d(d({},t),{},{l:t.l.filter((function(t){return t!==e})),p:t.p}):t}))}))}function D(e){O(null),a((function(t){return t.filter((function(t){return t.id!==e}))}))}return Object(i.useEffect)((function(){var e=localStorage.getItem("watchItems"),t=Number(localStorage.getItem("watchCurrent"));if(O(t),null!==e){var n=JSON.parse(e);a(n)}}),[]),Object(i.useEffect)((function(){localStorage.setItem("watchItems",JSON.stringify(r))}),[r]),Object(i.useEffect)((function(){localStorage.setItem("watchCurrent",j)}),[j]),Object(i.useEffect)((function(){if(null!==j){var e=r.filter((function(e){return e.id===j}))[0];void 0!==e?h(Object(c.jsx)(b,{timestamps:null!==e.p?e.l.map((function(t){return t+Date.now()-e.p})):e.l,id:e.id,paused:e.p,start:x,pause:g,lap:y,reset:D,removeLap:w,props:t})):O(null)}else h(Object(c.jsx)(b,{timestamps:[null],paused:!0,start:x,pause:g,lap:y,reset:D,removeLap:w,props:t}))}),[j,r]),Object(c.jsxs)("div",{className:l.a.block,ref:v,children:[Object(c.jsxs)("div",{className:l.a.stopwatch,children:[m,Object(c.jsx)(u.a,{elem:v.current})]}),Object(c.jsxs)("div",{className:l.a.list,children:[Object(c.jsx)("button",{onClick:function(){return O(null)},children:t.desc.add}),Object(c.jsx)("div",{children:r.map((function(e){return Object(c.jsxs)("div",{className:j===e.id?l.a.current:"",onClick:function(){return O(e.id)},children:[Object(c.jsx)(f,{timestamp:null!==e.p?e.l[0]+Date.now()-e.p:e.l[0],paused:null!==e.p,labels:t.desc.labels}),Object(c.jsx)("div",{className:null!==e.p?l.a.paused:"",children:e.p?t.desc.paused:t.desc.active})]},e.id)}))})]})]})}function b(e){var t=e.timestamps,n=e.id,r=e.paused,s=e.start,a=e.pause,u=e.lap,o=e.reset,d=(e.removeLap,e.props),j=Object(i.useRef)(null);return Object(i.useEffect)((function(){null!==j&&j.current.focus()}),[n]),Object(c.jsxs)("div",{ref:j,onKeyPress:function(e){e.preventDefault(),"Space"!==e.code&&"Enter"!==e.code||(e.shiftKey?u():r?s():a())},tabIndex:-1,children:[Object(c.jsx)(f,{timestamp:t[0],paused:null!==r,labels:d.desc.labels}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:l.a.green,onClick:s,children:d.desc.start}),Object(c.jsx)("button",{className:l.a.yellow,onClick:u,children:d.desc.lap}),Object(c.jsx)("button",{className:l.a.blue,onClick:a,children:d.desc.pause}),Object(c.jsx)("button",{className:l.a.red,onClick:function(){return o(n)},children:d.desc.reset})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:d.desc.lap}),Object(c.jsx)("div",{children:d.desc.lapTime}),Object(c.jsx)("div",{children:d.desc.totalTime})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.length}),Object(c.jsx)(f,{timestamp:t[t.length-1],paused:null!==r,labels:d.desc.labels}),Object(c.jsx)(f,{timestamp:t[0],paused:null!==r,labels:d.desc.labels})]}),t.map((function(e,n){return 0===n?null:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:n}),Object(c.jsx)(f,{timestamp:Date.now()-(e-t[n-1]),paused:!0,labels:d.desc.labels}),Object(c.jsx)(f,{timestamp:Date.now()-(e-t[0]),paused:!0,labels:d.desc.labels})]},e)})).reverse()]})]})}function f(e){var t=e.timestamp,n=e.paused,r=e.displayMs,s=void 0===r||r,a=e.onlyTime,u=void 0!==a&&a,o=e.labels,d=void 0===o?{day:"day",year:"year"}:o,j=Object(i.useState)(0),b=j[0],f=j[1],O=Object(i.useState)(0),p=O[0],m=O[1],h=Object(i.useState)(0),v=h[0],x=h[1],g=Object(i.useState)(0),y=g[0],w=g[1],D=Object(i.useState)(0),S=D[0],k=D[1],C=Object(i.useState)(0),N=C[0],T=C[1];return Object(i.useEffect)((function(){function e(e){var t=e%1e3/100|0;return f(t),t}function c(e){var t=e%6e4/1e3|0;return m(t),t}function r(e){var t=e%36e5/6e4|0;return x(t),t}function i(e){var t=e%864e5/36e5|0;return w(t),t}function a(e){var t=e%316224e5/864e5|0;return k(t),t}function l(e,t,n){return e>t&&e<n}if(null===t)f(0),m(0),x(0),w(0),k(0),T(0);else{var u=Math.abs(Date.now()-t);e(u),c(u),r(u),i(u),a(u),T(Math.floor(Math.abs(Date.now()-t)/31536e6))}if(!n&&null!==t){var o=setInterval((function(){var n=Math.abs(Date.now()-t);s&&l(e(n),0,9)||l(c(n),0,59)||l(r(n),0,59)||l(i(n),0,23)||a(n)}),50);return function(){return clearInterval(o)}}}),[n,t]),Object(c.jsxs)("div",{className:l.a.clock,children:[!u&&N>0?N+d.year:null,!u&&S>0?S+d.day:null,y<10?"0"+y:y,":",v<10?"0"+v:v,":",p<10?"0"+p:p,s?Object(c.jsx)("span",{children:b}):null]})}},FI52:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var c=n("nKUr"),r=n("rePB"),s=n("KQm4"),i=n("20a2"),a=n("q1tI"),l=n("Tw3E"),u=n.n(l),o=(n("Jq4i"),n("5PO6")),d=n("quuy");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var f=[1,2,3,5,10,15,20,30,45,50,60,90,120,150,180,300,420,600,900,1200,1800,2700,3600,5400,7200,10800,21600,32400,43200,64800],O=60*(new Date).getHours(),p=[],m=0;m<96;m++)O+15*m>=1440?p.push(O-1440+15*m):p.push(O+15*m);function h(e){var t=e.props,n=e.slug,l=Object(a.useState)([]),j=l[0],f=l[1],O=Object(a.useState)("tranquility"),p=O[0],m=O[1],h=Object(a.useState)(!1),w=h[0],D=h[1],S=Object(a.useState)(""),k=S[0],C=S[1],N=Object(a.useState)(!1),T=N[0],E=N[1],P=Object(a.useState)(void 0!==t.value.hours?t.value.hours:0),I=P[0],q=P[1],M=Object(a.useState)(void 0!==t.value.min?t.value.min:0),J=M[0],A=M[1],K=Object(a.useState)(void 0!==t.value.sec?t.value.sec:0),F=K[0],R=K[1],z=Object(a.useState)(null),L=z[0],_=z[1],B=Object(a.useState)(null),H=B[0],Q=B[1],U=Object(a.useState)(null),Z=U[0],G=U[1],V=Object(a.useRef)(null),W=Object(i.useRouter)(null);function X(e){f((function(t){return t.filter((function(t){return t.id!==e}))}))}function Y(e,t,n){f((function(c){return c.map((function(c){return c.id===e?b(b({},c),{},Object(r.a)({},t,n)):c}))}))}function $(e){var t=j.filter((function(t){return t.id===e}))[0];void 0!==t&&(Q(t.sound),_(t.finish))}Object(a.useEffect)((function(){var e=localStorage.getItem("alarmItems");if(null!==e){f(JSON.parse(e));var t=localStorage.getItem("alarmSound");null!==t&&m(t)}}),[]),Object(a.useEffect)((function(){D("timer"===n)}),[W.query.article]),Object(a.useEffect)((function(){localStorage.setItem("alarmItems",JSON.stringify(j))}),[j]),Object(a.useEffect)((function(){localStorage.setItem("alarmSound",p)}),[p]),Object(a.useEffect)((function(){if(null!==Z&&Z.pause(),null!==H){var e=new Audio("https://content.regtool.net/sounds/".concat(H,".mp3"));e.loop=!0,e.play(),G(e)}}),[H]),Object(a.useEffect)((function(){T||C(w?"".concat(t.desc.timerOn," ").concat(0===I?"":"".concat(I<10?"0"+I:I," ").concat(t.desc.short.hours,". ")).concat(0===J?"":"".concat(J<10?"0"+J:J," ").concat(t.desc.short.min,". ")).concat(0===F?0!==I||0!==J?"":t.desc.short.instant:"".concat(F<10?"0"+F:F," ").concat(t.desc.short.sec,".")):"".concat(t.desc.alarmOn," ").concat(I<10?"0"+I:I,":").concat(J<10?"0"+J:J).concat(0===F?"":":".concat(F<10?"0"+F:F)))}),[I,J,F,w]);var ee=Object.entries(t.sound).map((function(e){return{l:e[0],n:e[1]}}));function te(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}return Object(c.jsxs)("div",{className:u.a.block,ref:V,children:[Object(c.jsxs)("div",{className:u.a.clock,children:[Object(c.jsx)(o.Clock,{timestamp:6e4*(new Date).getTimezoneOffset(),paused:!1,displayMs:!1,onlyTime:!0,labels:t.desc.labels}),Object(c.jsx)("div",{children:(new Date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),Object(c.jsx)(d.a,{elem:V.current})]}),Object(c.jsxs)("div",{className:u.a.new,children:[Object(c.jsxs)("div",{className:w?"":u.a.select2,children:[Object(c.jsx)("button",{onClick:function(){return D(!0)},children:t.desc.timer}),Object(c.jsx)("button",{onClick:function(){return D(!1)},children:t.desc.alarm})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.desc.long.hours}),Object(c.jsx)("button",{onClick:function(){return q((function(e){return 0!==e?e-1:23}))},children:"-"}),Object(c.jsxs)("select",{value:I,onChange:function(e){return q(Number(e.target.value))},children:[" ",te(24).map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))," "]}),Object(c.jsx)("button",{onClick:function(){return q((function(e){return 23!==e?e+1:0}))},children:"+"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.desc.long.min}),Object(c.jsx)("button",{onClick:function(){return A((function(e){return 0!==e?e-1:59}))},children:"-"}),Object(c.jsxs)("select",{value:J,onChange:function(e){return A(Number(e.target.value))},children:[" ",te(60).map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))," "]}),Object(c.jsx)("button",{onClick:function(){return A((function(e){return 59!==e?e+1:0}))},children:"+"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.desc.long.sec}),Object(c.jsx)("button",{onClick:function(){return R((function(e){return 0!==e?e-1:59}))},children:"-"}),Object(c.jsxs)("select",{value:F,onChange:function(e){return R(Number(e.target.value))},children:[" ",te(60).map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))," "]}),Object(c.jsx)("button",{onClick:function(){return R((function(e){return 59!==e?e+1:0}))},children:"+"})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.desc.name}),Object(c.jsx)("input",{type:"text",value:k,onChange:function(e){E(!0),C(e.value)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t.desc.sound}),Object(c.jsx)("select",{name:"sound",value:p,onChange:function(e){return m(e.target.value)},children:ee.map((function(e){return Object(c.jsx)("option",{value:e.l,children:e.n},e.l)}))}),null===H?Object(c.jsx)("button",{"data-tooltip":t.desc.test,onClick:function(){return Q(p)},children:"\u25ba"}):Object(c.jsx)("button",{"data-tooltip":t.desc.off,onClick:function(){return Q(null)},children:"\u25a0"})]}),Object(c.jsx)("button",{onClick:function(){var e=Date.now(),t=1e3*(60*(J+60*I)+F);f((function(n){return[{id:e,started:e,timestamp:t,active:!0,name:k,isTimer:w,sound:p,finish:y(w,e,t)}].concat(Object(s.a)(n))})),E(!1)},children:t.desc.add})]})]}),Object(c.jsx)("div",{className:u.a.elements,children:j.map((function(e){return Object(c.jsx)(g,b(b({},e),{},{sound:ee.filter((function(t){return t.l===e.sound}))[0].n,timerDispatch:$,changeField:Y,alarmDelete:X,props:t}),e.id)}))}),Object(c.jsx)(v,{changeOnTimer:function(e){E(!1),D(!0),q(e/3600|0),A(e/60%60|0),R(e%60|0)},changeOnAlarm:function(e){E(!1),D(!1),q(e/60|0),A(e%60|0),R(0)},props:t}),Object(c.jsx)(x,{currentAlarms:L,stopCurrentAlarms:function(){_(null),Q(null)},props:t})]})}function v(e){var t=e.changeOnTimer,n=e.changeOnAlarm,r=e.props,s=Object(i.useRouter)(null);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:u.a.list,children:[Object(c.jsx)("div",{children:r.desc.alarmOn}),Object(c.jsx)("div",{children:p.map((function(e){var t=e/60|0,i=e%60===0?"00":e%60;return Object(c.jsxs)("a",{href:"/".concat(s.query.article[0],"/").concat(r.alarm,"/").concat(t,"-").concat(i,"/"),onClick:function(t){t.preventDefault(),n(e)},children:[t,":",i]},e)}))})]}),Object(c.jsxs)("div",{className:u.a.list,children:[Object(c.jsx)("div",{children:r.desc.timerOn}),Object(c.jsx)("div",{children:f.map((function(e){var n=e<60?e:e<3600?e/60:e/3600,i=e<60?"sec":e<3600?"min":"hours";return Object(c.jsxs)("a",{href:"/".concat(s.query.article[0],"/").concat(r.timer,"/").concat(n).concat(i,"/"),onClick:function(n){n.preventDefault(),t(e)},children:[n," ",e<60?r.desc.short.sec:e<3600?r.desc.short.min:r.desc.short.hours]},e)}))})]})]})}function x(e){var t=e.currentAlarms,n=e.stopCurrentAlarms,r=e.props;return Object(c.jsx)("div",{className:"".concat(u.a.popup," ").concat(t?u.a.display:""),children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:t?Object(c.jsx)(o.Clock,{timestamp:Date.now()-t+6e4*(new Date).getTimezoneOffset(),displayMs:!1,paused:!0,onlyTime:!0,labels:r.desc.labels}):null}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:u.a.green,onClick:n,children:r.desc.off})})]})})}function g(e){var t=e.id,n=e.started,r=e.timestamp,s=e.active,i=e.sound,l=e.name,d=e.timerDispatch,j=e.isTimer,b=e.changeField,f=e.alarmDelete,O=e.finish,p=e.props;function m(){b(t,"active",!1),d(t)}return Object(a.useEffect)((function(){if(s){var e=setTimeout(m,O-Date.now());return function(){return clearTimeout(e)}}}),[s]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:j?p.desc.timer:p.desc.alarm}),Object(c.jsx)("div",{children:l}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:p.desc.startedTime}),Object(c.jsx)(o.Clock,{timestamp:Date.now()-n+6e4*(new Date).getTimezoneOffset(),paused:!0,displayMs:!1,onlyTime:!0,labels:p.desc.labels})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:p.desc.finishTime}),Object(c.jsx)(o.Clock,{timestamp:Date.now()-O+6e4*(new Date).getTimezoneOffset(),paused:!0,displayMs:!1,onlyTime:!0,labels:p.desc.labels})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:p.desc.sound}),Object(c.jsx)("div",{children:i})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:p.desc.leftTime}),Object(c.jsx)(o.Clock,{timestamp:s?O:null,paused:!1===s,onlyTime:!0,labels:p.desc.labels})]}),s?Object(c.jsx)("button",{className:u.a.red,onClick:function(){b(t,"active",!1)},children:p.desc.off}):Object(c.jsx)("button",{className:u.a.green,onClick:function(){var e=Date.now();b(t,"started",e),b(t,"finish",y(j,e,r)),b(t,"active",!0)},children:p.desc.repeat}),Object(c.jsx)("button",{className:u.a.red,onClick:function(){return f(t)},children:p.desc.delete})]},t)}function y(e,t,n){if(e)return t+n+10;var c=new Date(t),r=c.getSeconds(),s=c.getMinutes(),i=1e3*(60*(60*c.getHours()+s)+r);return i<n?n-i+t:n-i+864e5+t}}}]);